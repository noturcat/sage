@use '@/styles/mixins' as *;

.wrapper {
	display: flex;
	flex-direction: column;
	gap: 1em;

	.label {
		display: flex;
		justify-content: flex-start;
		gap: 0.5ch;
		font-size: 0.88rem;
		font-style: normal;
		font-weight: 700;
		line-height: 1.25rem;

		.required {
			color: var(--jh-red-01);
		}
	}

	.card {
		display: flex;
		justify-content: space-between;
		padding: 1.38em;
		width: 32.13rem;
		align-items: stretch;
		gap: 0.5em;
		background-color: var(--white);
		border: 1px solid var(--jh-gray-08);
		border-radius: 0.75em;
		box-shadow: 0 1px 2px 0 rgba(var(--shadow-dark-rgb), 0.05);

		.content {
			display: flex;
			flex-direction: column;
			gap: 0.88rem;

			.title,
			.description {
				font-size: 0.88rem;
				font-style: normal;
				line-height: normal;
				display: -webkit-box;
				-webkit-box-orient: vertical;
				overflow: hidden;
				text-wrap: balance;
			}

			.title {
				font-weight: 700;
				-webkit-line-clamp: 1;
				line-clamp: 1;
			}

			.description {
				font-weight: 400;
				-webkit-line-clamp: 3;
				line-clamp: 3;
			}
		}
		.file {
			display: flex;
			align-items: center;
			justify-content: center;
			flex-direction: column;
			gap: 0.5em;

			.fileInput {
				display: none;
			}

			.imageContainer {
				position: relative;
				display: inline-block;

				.image {
					width: 4.5rem;
					height: 4.5rem;
					object-fit: cover;
					border-radius: 0.5em;
				}

				.clearImage {
					position: absolute;
					top: -0.5rem;
					right: -0.5rem;
					width: 1.5rem;
					height: 1.5rem;
					border-radius: 9999px;
					border: none;
					background: var(--jh-red-01);
					color: var(--white);
					cursor: pointer;
					display: flex;
					align-items: center;
					justify-content: center;
					font-size: 0.88rem;
					font-weight: bold;
					box-shadow: 0 2px 4px rgba(var(--shadow-dark-rgb), 0.2);

					.iconClose {
						@include icon('/icons/close.svg', 12px);
					}
				}
			}

			.fileContainer {
				display: flex;
				flex-direction: column;
				position: relative;

				.fileIcon {
					border: 2px dashed var(--jh-gray-03);
					border-radius: 0.5em;
					padding: 1.31em 2.31em;
					text-align: center;
					background-color: var(--jh-gray-05);
					cursor: pointer;
					transition: all 0.2s ease-in-out;

					&:hover {
						border-color: var(--jh-gray-02);
						background-color: rgba(var(--jh-gray-05-rgb), 0.8);
					}

					&:focus {
						outline: none;
						border-color: var(--jh-gray-02);
						box-shadow: 0 0 0 3px rgba(var(--jh-gray-02-rgb), 0.8);
					}
				}

				.imageCard {
					display: flex;
					flex-direction: column;
					gap: 0.5em;
					background-color: var(--white);
					border-radius: 0.5em;
					padding: 1em;
					box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
					z-index: 10;
					min-width: 18rem;
					max-width: 20rem;
					cursor: pointer;
					transition: box-shadow 0.2s ease-in-out;

					&[data-floating-ui-placement] {
						transition: box-shadow 0.2s ease-in-out;
					}

					&:hover {
						box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
					}

					.arrow {
						position: absolute;
						width: 8px;
						height: 8px;
						background-color: var(--white);
						border-top: none;
						border-left: none;
						transform: rotate(45deg);
						z-index: 1;

						&[data-placement='top'] {
							bottom: -4px;
							left: calc(var(--arrow-x, 0) * 1px);
							transform: translateX(-50%) rotate(45deg);
						}

						&[data-placement='bottom'] {
							top: -4px;
							left: calc(var(--arrow-x, 0) * 1px);
							transform: translateX(-50%) rotate(45deg);
						}

						&[data-placement='left'] {
							right: -4px;
							top: calc(var(--arrow-y, 0) * 1px);
							transform: translateY(-50%) rotate(45deg);
						}

						&[data-placement='right'] {
							left: -4px;
							top: calc(var(--arrow-y, 0) * 1px);
							transform: translateY(-50%) rotate(45deg);
						}

						&:not([data-placement]) {
							top: -4px;
							left: 50%;
							transform: translateX(-50%) rotate(45deg);
						}
					}

					.tooltipIcons {
						display: flex;
						gap: 0.5rem;
						width: 100%;
						overflow-x: auto;
						flex-shrink: 0;
						min-width: 0;

						&::-webkit-scrollbar {
							display: none;
						}
						scrollbar-width: none;
						scroll-snap-type: x mandatory;

						.tooltipIcon {
							width: 6.25rem;
							height: 5rem;
							border-radius: 0.5em;
							position: relative;
							flex-shrink: 0;

							.tooltipImage {
								width: 100%;
								height: 100%;
								object-fit: cover;
								border-radius: 0.5em;
							}
						}
					}

					.tooltipText {
						font-size: 0.88rem;
						font-weight: 400;
						line-height: 1.4;
						color: var(--jh-gray-01);
						margin: 0;
					}
				}
			}
			.fileLabel {
				font-size: 0.88rem;
				font-style: normal;
				font-weight: 400;
				line-height: normal;
				color: var(--jh-gray-01);
				cursor: pointer;
				@include transition;

				&:hover {
					color: var(--jh-gray-02);
				}
			}
		}
	}
}
